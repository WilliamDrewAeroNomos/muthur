<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MuthurLib: CMQConsumer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CMQConsumer Class Reference</h1><!-- doxytag: class="CMQConsumer" -->
<p>Class used to implement an ActiveMQ consumer.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_m_q_consumer_8h_source.html">MQConsumer.h</a>&gt;</code></p>

<p><a href="class_c_m_q_consumer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a44f266b65e44654c9ec5047d4d83d08b">CMQConsumer</a> (<a class="el" href="class_c_m_q_wrapper.html">CMQWrapper</a> *pMQWrapper=NULL, int iMQWrapperId=-1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a4e0adf5f4c9c025cd8a6817610c9e126">~CMQConsumer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cms::Destination *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#ab4240ec581a018715be196dca83e2328">GetMQDestination</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#ab964e80092f655ac3834234299e5c4ca">GetMQDestinationName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a6456dd3698a7f2741858fbb64a762b27">SetMQWrapper</a> (<a class="el" href="class_c_m_q_wrapper.html">CMQWrapper</a> *pMQWrapper, int iMQWrapperId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a60924fcc4440706a947e754ff3d27de2">Close</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a4becbb48577696b6c8f99dc472a1c7d6">Open</a> (const char *pszDestinationName, bool bUseTopic=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#ac7467635b1400bf97d8c236b14f09bd8">onMessage</a> (const Message *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a6db49265b08271a5519fddd6c673cf48">onException</a> (const CMSException &amp;ex AMQCPP_UNUSED)</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a6ec00962bb79d105affbd24c121ab398">ReleaseAll</a> ()</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_m_q_wrapper.html">CMQWrapper</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#acde49df2d3d8fcc56a9296f26ec1a7f9">m_pMQWrapper</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a2abfe2af267680d31c4f57c2df66bb8c">m_iMQWrapperId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cms::Session *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#ad652745866f7df692deb60e750488037">m_pMQSession</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cms::Destination *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a597677859bf91cbbcc7d65120c56e3c8">m_pMQDestination</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cms::MessageConsumer *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a9c4891014b09c7f4c140081d57a6e4c2">m_pMQConsumer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a7c7309dd3eac72644b571e415ccdbcad">m_bUseTopic</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_q_consumer.html#a9ad44db17ca440facba2a75737b9985e">m_sDestinationName</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class used to implement an ActiveMQ consumer. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a44f266b65e44654c9ec5047d4d83d08b"></a><!-- doxytag: member="CMQConsumer::CMQConsumer" ref="a44f266b65e44654c9ec5047d4d83d08b" args="(CMQWrapper *pMQWrapper=NULL, int iMQWrapperId=&#45;1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CMQConsumer::CMQConsumer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_m_q_wrapper.html">CMQWrapper</a> *&nbsp;</td>
          <td class="paramname"> <em>pMQWrapper</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iMQWrapperId</em> = <code>-1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Summary: Constructor</p>
<p>Parameters: </p>
<ul>
<li>pMQWrapper - the wrapper object that owns this consumer </li>
<li>iMQWrapperId - the wrapper assigned numeric identifier</li>
</ul>
<p>Returns: None </p>

</div>
</div>
<a class="anchor" id="a4e0adf5f4c9c025cd8a6817610c9e126"></a><!-- doxytag: member="CMQConsumer::~CMQConsumer" ref="a4e0adf5f4c9c025cd8a6817610c9e126" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CMQConsumer::~CMQConsumer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Summary: Destructor</p>
<p>Parameters: None</p>
<p>Returns: None </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a60924fcc4440706a947e754ff3d27de2"></a><!-- doxytag: member="CMQConsumer::Close" ref="a60924fcc4440706a947e754ff3d27de2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMQConsumer::Close </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Summary: Called to close the consumer's ActiveMQ connection</p>
<p>Parameters: None</p>
<p>Returns: None </p>

</div>
</div>
<a class="anchor" id="ab4240ec581a018715be196dca83e2328"></a><!-- doxytag: member="CMQConsumer::GetMQDestination" ref="ab4240ec581a018715be196dca83e2328" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cms::Destination* CMQConsumer::GetMQDestination </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab964e80092f655ac3834234299e5c4ca"></a><!-- doxytag: member="CMQConsumer::GetMQDestinationName" ref="ab964e80092f655ac3834234299e5c4ca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CMQConsumer::GetMQDestinationName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6db49265b08271a5519fddd6c673cf48"></a><!-- doxytag: member="CMQConsumer::onException" ref="a6db49265b08271a5519fddd6c673cf48" args="(const CMSException &amp;ex AMQCPP_UNUSED)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMQConsumer::onException </td>
          <td>(</td>
          <td class="paramtype">const CMSException &amp;ex&nbsp;</td>
          <td class="paramname"> <em>AMQCPP_UNUSED</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Summary: Called when an exception occurs</p>
<p>Parameters: ex - the exception that was thrown</p>
<p>Returns: None </p>

</div>
</div>
<a class="anchor" id="ac7467635b1400bf97d8c236b14f09bd8"></a><!-- doxytag: member="CMQConsumer::onMessage" ref="ac7467635b1400bf97d8c236b14f09bd8" args="(const Message *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMQConsumer::onMessage </td>
          <td>(</td>
          <td class="paramtype">const Message *&nbsp;</td>
          <td class="paramname"> <em>pMessage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Summary: Called when a new message arrives</p>
<p>Parameters: pMessage - the message to be processed</p>
<p>Returns: None </p>

</div>
</div>
<a class="anchor" id="a4becbb48577696b6c8f99dc472a1c7d6"></a><!-- doxytag: member="CMQConsumer::Open" ref="a4becbb48577696b6c8f99dc472a1c7d6" args="(const char *pszDestinationName, bool bUseTopic=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CMQConsumer::Open </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pszDestinationName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bUseTopic</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Summary: Called to open the connection to the ActiveMQ broker</p>
<p>Parameters: </p>
<ul>
<li>pszDestinationName - The name of the destination queue/topic </li>
<li>bUseTopic - true to use topic destination instead of queue</li>
</ul>
<p>Returns: true if successful </p>

</div>
</div>
<a class="anchor" id="a6ec00962bb79d105affbd24c121ab398"></a><!-- doxytag: member="CMQConsumer::ReleaseAll" ref="a6ec00962bb79d105affbd24c121ab398" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMQConsumer::ReleaseAll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Summary: Called to release all MQ resources</p>
<p>Parameters: None</p>
<p>Returns: None </p>

</div>
</div>
<a class="anchor" id="a6456dd3698a7f2741858fbb64a762b27"></a><!-- doxytag: member="CMQConsumer::SetMQWrapper" ref="a6456dd3698a7f2741858fbb64a762b27" args="(CMQWrapper *pMQWrapper, int iMQWrapperId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMQConsumer::SetMQWrapper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_m_q_wrapper.html">CMQWrapper</a> *&nbsp;</td>
          <td class="paramname"> <em>pMQWrapper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iMQWrapperId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Summary: Called to set the link to the owner MQ wrapper object</p>
<p>Parameters: </p>
<ul>
<li>pMQWrapper - the wrapper object that owns this consumer </li>
<li>iMQWrapperId - the wrapper assigned numeric identifier</li>
</ul>
<p>Returns: None </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a7c7309dd3eac72644b571e415ccdbcad"></a><!-- doxytag: member="CMQConsumer::m_bUseTopic" ref="a7c7309dd3eac72644b571e415ccdbcad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_c_m_q_consumer.html#a7c7309dd3eac72644b571e415ccdbcad">CMQConsumer::m_bUseTopic</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2abfe2af267680d31c4f57c2df66bb8c"></a><!-- doxytag: member="CMQConsumer::m_iMQWrapperId" ref="a2abfe2af267680d31c4f57c2df66bb8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_c_m_q_consumer.html#a2abfe2af267680d31c4f57c2df66bb8c">CMQConsumer::m_iMQWrapperId</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9c4891014b09c7f4c140081d57a6e4c2"></a><!-- doxytag: member="CMQConsumer::m_pMQConsumer" ref="a9c4891014b09c7f4c140081d57a6e4c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cms::MessageConsumer* <a class="el" href="class_c_m_q_consumer.html#a9c4891014b09c7f4c140081d57a6e4c2">CMQConsumer::m_pMQConsumer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a597677859bf91cbbcc7d65120c56e3c8"></a><!-- doxytag: member="CMQConsumer::m_pMQDestination" ref="a597677859bf91cbbcc7d65120c56e3c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cms::Destination* <a class="el" href="class_c_m_q_consumer.html#a597677859bf91cbbcc7d65120c56e3c8">CMQConsumer::m_pMQDestination</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad652745866f7df692deb60e750488037"></a><!-- doxytag: member="CMQConsumer::m_pMQSession" ref="ad652745866f7df692deb60e750488037" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cms::Session* <a class="el" href="class_c_m_q_consumer.html#ad652745866f7df692deb60e750488037">CMQConsumer::m_pMQSession</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acde49df2d3d8fcc56a9296f26ec1a7f9"></a><!-- doxytag: member="CMQConsumer::m_pMQWrapper" ref="acde49df2d3d8fcc56a9296f26ec1a7f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_m_q_wrapper.html">CMQWrapper</a>* <a class="el" href="class_c_m_q_consumer.html#acde49df2d3d8fcc56a9296f26ec1a7f9">CMQConsumer::m_pMQWrapper</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9ad44db17ca440facba2a75737b9985e"></a><!-- doxytag: member="CMQConsumer::m_sDestinationName" ref="a9ad44db17ca440facba2a75737b9985e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="class_c_m_q_consumer.html#a9ad44db17ca440facba2a75737b9985e">CMQConsumer::m_sDestinationName</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Working/Muthur.SecondDrop/cpp/muthurlib/Include/private/<a class="el" href="_m_q_consumer_8h_source.html">MQConsumer.h</a></li>
<li>C:/Working/Muthur.SecondDrop/cpp/muthurlib/Source/private/<a class="el" href="_m_q_consumer_8cpp.html">MQConsumer.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Aug 2 14:39:32 2011 for MuthurLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
